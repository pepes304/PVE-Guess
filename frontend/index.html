<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Wordle –£–∫—Ä–∞—ó–Ω—Å—å–∫–æ—é</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    @keyframes flip {
      0% { transform: rotateX(0deg); }
      50% { transform: rotateX(90deg); }
      100% { transform: rotateX(0deg); }
    }
    @keyframes shake {
      0%, 100% { transform: translateX(0); }
      20%, 60% { transform: translateX(-5px); }
      40%, 80% { transform: translateX(5px); }
    }
    @keyframes bounce {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-10px); }
    }
    .flip { animation: flip 0.5s ease-in-out; }
    .shake { animation: shake 0.5s ease-in-out; }
    .bounce { animation: bounce 0.3s ease-in-out; }
  </style>
</head>
<body class="bg-gray-900 min-h-screen flex flex-col items-center justify-center p-4">
  <h1 class="text-3xl font-bold text-white mb-6">üá∫üá¶ WORDLE</h1>
  
  <div id="message" class="h-8 mb-4 text-white text-lg font-semibold"></div>
  
  <div id="grid" class="grid grid-rows-6 gap-1.5 mb-6"></div>
  
  <div id="keyboard" class="flex flex-col gap-1.5"></div>
  
  <button id="newGame" class="mt-6 px-6 py-2 bg-green-600 text-white rounded-lg font-semibold hover:bg-green-700 transition hidden">
    –ù–æ–≤–∞ –≥—Ä–∞
  </button>

  <script>
    const WORDS = [
      '–°–õ–û–í–û', '–î–£–ú–ö–ê', '–ö–ù–ò–ì–ê', '–ú–†–Ü–Ø', '–ó–ï–ú–õ–Ø', '–í–û–ì–û–ù–¨', '–í–Ü–¢–ï–†', '–°–û–ù–¶–ï',
      '–ú–Ü–°–Ø–¶–¨', '–ó–Ü–†–ö–ê', '–ù–ï–ë–û', '–ú–û–†–ï', '–õ–Ü–°–ò', '–ü–û–õ–ï', '–†–Ü–ß–ö–ê', '–ì–û–†–ê',
      '–ü–¢–ê–•', '–ö–í–Ü–¢–ö–ê', '–î–ï–†–ï–í–û', '–¢–†–ê–í–ê', '–ö–†–ê–°–ê', '–õ–Æ–ë–û–í', '–ú–ê–ú–ê', '–¢–ê–¢–û',
      '–°–ï–†–¶–ï', '–î–£–®–ê', '–ü–Ü–°–ù–Ø', '–¢–ê–ù–û–ö', '–°–í–Ü–¢', '–î–ï–ù–¨', '–ù–Ü–ß–ß–Æ', '–†–ê–ù–û–ö',
      '–í–ï–ß–Ü–†', '–ñ–ò–¢–¢–Ø', '–©–ê–°–¢–Ø', '–î–û–õ–Ø', '–í–û–õ–Ø', '–°–ò–õ–ê', '–í–õ–ê–î–ê', '–ß–ï–°–¢–¨',
      '–°–õ–ê–í–ê', '–ì–ï–†–û–ô', '–ù–ê–†–û–î', '–ú–Ü–°–¢–û', '–°–ï–õ–û', '–•–ê–¢–ê', '–î–í–Ü–†', '–®–õ–Ø–•',
      '–î–†–£–ì', '–í–û–†–û–ì', '–ë–ò–¢–í–ê', '–ü–ï–†–ï–ú–û–ì–ê', '–ú–û–í–ê', '–ö–ê–ó–ö–ê', '–õ–ï–ì–ï–ù–î–ê',
      '–í–û–î–ê', '–•–õ–Ü–ë', '–°–Ü–õ–¨', '–¶–£–ö–û–†', '–ú–û–õ–û–ö–û', '–ú–ê–°–õ–û', '–°–ú–ï–¢–ê–ù–ê',
      '–ë–û–†–©', '–í–ê–†–ï–ù–ò–ö–ò', '–ö–ê–®–ê', '–°–ú–ê–ö', '–ó–ê–ü–ê–•', '–ö–û–õ–Ü–†', '–ó–í–£–ö',
      '–¢–ò–®–ê', '–®–£–ú', '–ì–û–õ–û–°', '–°–ú–Ü–•', '–ü–õ–ê–ß', '–†–ê–î–Ü–°–¢–¨', '–°–£–ú–ù–û',
      '–ü–ê–õ–ê–¶', '–ó–ê–ú–û–ö', '–•–†–ê–ú', '–®–ö–û–õ–ê', '–ü–ê–†–ö', '–°–ê–î–û–ö', '–í–£–õ–ò–¶–Ø',
      '–ü–õ–û–©–ê', '–†–ò–ù–û–ö', '–ö–†–ê–ú–ù–ò–¶–Ø', '–ë–ê–ù–ö', '–ü–û–®–¢–ê', '–õ–Ü–ö–ê–†–ù–Ø',
      '–¢–ï–ê–¢–†', '–ú–£–ó–ï–ô', '–ö–Ü–ù–û', '–°–¢–ê–î–Ü–û–ù', '–ë–ê–°–ï–ô–ù', '–°–ü–û–†–¢', '–§–£–¢–ë–û–õ',
      '–¢–ê–ù–ï–¶–¨', '–ú–£–ó–ò–ö–ê', '–ì–Ü–¢–ê–†–ê', '–°–ö–†–ò–ü–ö–ê', '–ë–ê–†–ê–ë–ê–ù', '–§–õ–ï–ô–¢–ê',
      '–ë–Ü–õ–ö–ê', '–ó–ê–Ñ–¶–¨', '–í–û–í–ö', '–õ–ò–°–ò–¶–Ø', '–í–ï–î–ú–Ü–î–¨', '–û–õ–ï–ù–¨', '–ö–ê–ë–ê–ù',
      '–°–û–ë–ê–ö–ê', '–ö–Ü–¢', '–ö–û–†–û–í–ê', '–ö–Ü–ù', '–°–í–ò–ù–Ø', '–í–Ü–í–¶–Ø', '–ö–û–ó–ê',
      '–ö–£–†–ö–ê', '–ö–ê–ß–ö–ê', '–ì–£–°–ö–ê', '–Ü–ù–î–ò–ö', '–ì–û–õ–£–ë', '–í–û–†–û–ù–ê', '–°–û–†–û–ö–ê',
      '–Ø–ë–õ–£–ö–û', '–ì–†–£–®–ê', '–°–õ–ò–í–ê', '–í–ò–®–ù–Ø', '–ß–ï–†–ï–®–ù–Ø', '–ê–ë–†–ò–ö–û–°',
      '–ü–ï–†–°–ò–ö', '–í–ò–ù–û–ì–†–ê–î', '–ö–ê–í–£–ù', '–î–ò–ù–Ø', '–ü–û–õ–£–ù–ò–¶–Ø', '–ú–ê–õ–ò–ù–ê',
      '–ê–ì–†–£–°', '–°–ú–û–†–û–î–ò–ù–ê', '–ñ–£–†–ê–í–õ–ò–ù–ê', '–ß–û–†–ù–ò–¶–Ø', '–û–ñ–ò–ù–ê',
      '–ö–ê–†–¢–û–ü–õ–Ø', '–ú–û–†–ö–í–ê', '–ë–£–†–Ø–ö', '–ö–ê–ü–£–°–¢–ê', '–û–ì–Ü–†–û–ö', '–ü–û–ú–Ü–î–û–†',
      '–ü–ï–†–ï–¶–¨', '–¶–ò–ë–£–õ–Ø', '–ß–ê–°–ù–ò–ö', '–ì–ê–†–ë–£–ó', '–ö–ê–ë–ê–ß–û–ö', '–ë–ê–ö–õ–ê–ñ–ê–ù',
      '–ü–®–ï–ù–ò–¶–Ø', '–ñ–ò–¢–û', '–Ø–ß–ú–Ü–ù–¨', '–û–í–ï–°', '–ö–£–ö–£–†–£–î–ó–ê', '–°–û–ù–Ø–®–ù–ò–ö',
      '–¢–†–û–Ø–ù–î–ê', '–¢–Æ–õ–¨–ü–ê–ù', '–ù–ê–†–¶–ò–°', '–ö–û–ù–í–ê–õ–Ü–Ø', '–†–û–ú–ê–®–ö–ê', '–í–û–õ–û–®–ö–ê',
      '–ú–ê–ö', '–ü–Ü–í–û–ù–Ü–Ø', '–ì–õ–ê–î–Ü–û–õ–£–°', '–•–†–ò–ó–ê–ù–¢–ï–ú–ê', '–ê–ô–°–¢–†–ê', '–ñ–û–†–ñ–ò–ù–ê',
      '–î–£–ë', '–ë–ï–†–ï–ó–ê', '–°–û–°–ù–ê', '–Ø–õ–ò–ù–ê', '–ö–õ–ï–ù', '–ö–ê–®–¢–ê–ù', '–í–ï–†–ë–ê',
      '–¢–û–ü–û–õ–Ø', '–õ–ò–ü–ê', '–ê–ö–ê–¶–Ü–Ø', '–ì–û–†–Ü–•', '–í–ò–®–ù–Ø', '–Ø–ë–õ–£–ù–Ø', '–ì–†–£–®–ê',
      '–ì–û–õ–û–í–ê', '–†–£–ö–ê', '–ù–û–ì–ê', '–û–ö–û', '–í–£–•–û', '–ù–Ü–°', '–†–û–¢', '–ó–£–ë',
      '–Ø–ó–ò–ö', '–í–û–õ–û–°–°–Ø', '–®–ö–Ü–†–ê', '–ö–Ü–°–¢–ö–ê', '–ú–Ø–ó–ò', '–ö–†–û–í', '–ù–ï–†–í–ò',
      '–°–û–†–û–ß–ö–ê', '–®–¢–ê–ù–ò', '–ü–õ–ê–¢–¢–Ø', '–°–ü–Ü–î–ù–ò–¶–Ø', '–°–í–ï–¢–†', '–ö–£–†–¢–ö–ê',
      '–ü–ê–õ–¨–¢–û', '–®–£–ë–ê', '–®–ê–ü–ö–ê', '–®–ê–†–§', '–†–£–ö–ê–í–ò–ß–ö–ò', '–ß–ï–†–ï–í–ò–ö–ò',
      '–ß–û–ë–û–¢–ò', '–ö–†–û–°–Ü–í–ö–ò', '–¢–£–§–õ–Ü', '–°–ê–ù–î–ê–õ–Ü', '–ö–ê–ü–¶–Ü', '–®–ö–ê–†–ü–ï–¢–ö–ò',
      '–°–¢–Ü–õ', '–°–¢–Ü–õ–ï–¶–¨', '–ö–†–Ü–°–õ–û', '–î–ò–í–ê–ù', '–õ–Ü–ñ–ö–û', '–®–ê–§–ê', '–ü–û–õ–ò–¶–Ø',
      '–¢–£–ú–ë–ê', '–ö–û–ú–û–î', '–î–ó–ï–†–ö–ê–õ–û', '–õ–ê–ú–ü–ê', '–ì–û–î–ò–ù–ù–ò–ö', '–ö–ê–†–¢–ò–ù–ê',
      '–í–ê–ó–ê', '–ß–ê–®–ö–ê', '–¢–ê–†–Ü–õ–ö–ê', '–õ–û–ñ–ö–ê', '–í–ò–î–ï–õ–ö–ê', '–ù–Ü–ñ', '–ö–ê–°–¢–†–£–õ–Ø',
      '–°–ö–û–í–û–†–û–î–ê', '–ß–ê–ô–ù–ò–ö', '–ö–ê–í–û–í–ê–†–ö–ê', '–ú–ò–°–ö–ê', '–ì–õ–ï–ß–ò–ö', '–ö–ï–õ–ò–•'
    ].filter(w => w.length === 5);

    const KEYBOARD_ROWS = [
      ['–ô', '–¶', '–£', '–ö', '–ï', '–ù', '–ì', '–®', '–©', '–ó', '–•', '–á'],
      ['–§', '–Ü', '–í', '–ê', '–ü', '–†', '–û', '–õ', '–î', '–ñ', '–Ñ', '‚å´'],
      ['\'', '–Ø', '–ß', '–°', '–ú', '–ò', '–¢', '–¨', '–ë', '–Æ', '“ê', '‚Üµ']
    ];

    let targetWord = '';
    let currentRow = 0;
    let currentCol = 0;
    let currentGuess = '';
    let gameOver = false;
    let letterStates = {};

    const grid = document.getElementById('grid');
    const keyboard = document.getElementById('keyboard');
    const message = document.getElementById('message');
    const newGameBtn = document.getElementById('newGame');

    function init() {
      targetWord = WORDS[Math.floor(Math.random() * WORDS.length)];
      currentRow = 0;
      currentCol = 0;
      currentGuess = '';
      gameOver = false;
      letterStates = {};
      message.textContent = '';
      newGameBtn.classList.add('hidden');
      
      createGrid();
      createKeyboard();
      
      console.log('–°–ª–æ–≤–æ:', targetWord);
    }

    function createGrid() {
      grid.innerHTML = '';
      for (let i = 0; i < 6; i++) {
        const row = document.createElement('div');
        row.className = 'flex gap-1.5';
        for (let j = 0; j < 5; j++) {
          const cell = document.createElement('div');
          cell.className = 'w-14 h-14 border-2 border-gray-600 flex items-center justify-center text-2xl font-bold text-white uppercase';
          cell.id = `cell-${i}-${j}`;
          row.appendChild(cell);
        }
        grid.appendChild(row);
      }
    }

    function createKeyboard() {
      keyboard.innerHTML = '';
      KEYBOARD_ROWS.forEach(row => {
        const rowDiv = document.createElement('div');
        rowDiv.className = 'flex gap-1 justify-center';
        row.forEach(key => {
          const btn = document.createElement('button');
          btn.className = 'min-w-[32px] h-12 px-2 bg-gray-500 text-white rounded font-semibold text-sm hover:bg-gray-400 transition';
          btn.textContent = key;
          btn.id = `key-${key}`;
          btn.addEventListener('click', () => handleKeyPress(key));
          rowDiv.appendChild(btn);
        });
        keyboard.appendChild(rowDiv);
      });
    }

    function handleKeyPress(key) {
      if (gameOver) return;

      if (key === '‚å´') {
        if (currentCol > 0) {
          currentCol--;
          currentGuess = currentGuess.slice(0, -1);
          const cell = document.getElementById(`cell-${currentRow}-${currentCol}`);
          cell.textContent = '';
          cell.classList.remove('border-gray-400');
          cell.classList.add('border-gray-600');
        }
      } else if (key === '‚Üµ') {
        submitGuess();
      } else if (currentCol < 5) {
        const cell = document.getElementById(`cell-${currentRow}-${currentCol}`);
        cell.textContent = key;
        cell.classList.remove('border-gray-600');
        cell.classList.add('border-gray-400');
        cell.classList.add('bounce');
        setTimeout(() => cell.classList.remove('bounce'), 300);
        currentGuess += key;
        currentCol++;
      }
    }

    function submitGuess() {
      if (currentGuess.length !== 5) {
        showMessage('–í–≤–µ–¥—ñ—Ç—å 5 –ª—ñ—Ç–µ—Ä!');
        shakeRow();
        return;
      }

      const guess = currentGuess.toUpperCase();
      const target = targetWord.toUpperCase();
      const result = checkGuess(guess, target);
      
      revealRow(result);
    }

    function checkGuess(guess, target) {
      const result = Array(5).fill('absent');
      const targetLetters = target.split('');
      const guessLetters = guess.split('');
      
      // First pass: mark correct positions
      for (let i = 0; i < 5; i++) {
        if (guessLetters[i] === targetLetters[i]) {
          result[i] = 'correct';
          targetLetters[i] = null;
        }
      }
      
      // Second pass: mark present letters
      for (let i = 0; i < 5; i++) {
        if (result[i] === 'correct') continue;
        const idx = targetLetters.indexOf(guessLetters[i]);
        if (idx !== -1) {
          result[i] = 'present';
          targetLetters[idx] = null;
        }
      }
      
      return result;
    }

    function revealRow(result) {
      const guess = currentGuess.toUpperCase();
      
      for (let i = 0; i < 5; i++) {
        setTimeout(() => {
          const cell = document.getElementById(`cell-${currentRow}-${i}`);
          cell.classList.add('flip');
          
          setTimeout(() => {
            cell.classList.remove('border-gray-400', 'border-gray-600');
            if (result[i] === 'correct') {
              cell.classList.add('bg-green-600', 'border-green-600');
            } else if (result[i] === 'present') {
              cell.classList.add('bg-yellow-500', 'border-yellow-500');
            } else {
              cell.classList.add('bg-gray-700', 'border-gray-700');
            }
            
            updateKeyboard(guess[i], result[i]);
          }, 250);
        }, i * 300);
      }

      setTimeout(() => {
        if (guess === targetWord.toUpperCase()) {
          showMessage('üéâ –í—ñ—Ç–∞—é! –í–∏ –≤–≥–∞–¥–∞–ª–∏!');
          gameOver = true;
          newGameBtn.classList.remove('hidden');
        } else if (currentRow === 5) {
          showMessage(`–°–ª–æ–≤–æ –±—É–ª–æ: ${targetWord}`);
          gameOver = true;
          newGameBtn.classList.remove('hidden');
        } else {
          currentRow++;
          currentCol = 0;
          currentGuess = '';
        }
      }, 5 * 300 + 300);
    }

    function updateKeyboard(letter, state) {
      const key = document.getElementById(`key-${letter}`);
      if (!key) return;
      
      const currentState = letterStates[letter];
      if (currentState === 'correct') return;
      if (currentState === 'present' && state !== 'correct') return;
      
      letterStates[letter] = state;
      key.classList.remove('bg-gray-500', 'bg-green-600', 'bg-yellow-500', 'bg-gray-700');
      
      if (state === 'correct') {
        key.classList.add('bg-green-600');
      } else if (state === 'present') {
        key.classList.add('bg-yellow-500');
      } else {
        key.classList.add('bg-gray-700');
      }
    }

    function showMessage(text) {
      message.textContent = text;
    }

    function shakeRow() {
      const row = grid.children[currentRow];
      row.classList.add('shake');
      setTimeout(() => row.classList.remove('shake'), 500);
    }

    // Physical keyboard support
    document.addEventListener('keydown', (e) => {
      if (gameOver) return;
      
      const key = e.key.toUpperCase();
      if (key === 'BACKSPACE') {
        handleKeyPress('‚å´');
      } else if (key === 'ENTER') {
        handleKeyPress('‚Üµ');
      } else if (/^[–ê-–Ø–Ü–á–Ñ“ê–¨']$/i.test(key)) {
        handleKeyPress(key);
      }
    });

    newGameBtn.addEventListener('click', init);

    init();
  </script>
</body>
</html>
